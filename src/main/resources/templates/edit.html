<!DOCTYPE html>
<html lang="en">
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Edit</title>
</head>
<body>
<h1>Изменение пользователя</h1>

<form th:method="PATCH" th:action="@{/admin/edit/{id}(id=${user.getId()})}" th:object="${user}">
    <label for="userName">Имя: </label>
    <input type="text" th:field="*{userName}" id="userName"/>
    <div style="color:red" th:if="${#fields.hasErrors('username')}" th:errors="*{userName}"></div>
    <nobr style="color:red" th:text="${message}"></nobr>
    <br/>
    <label for="surName">Фамилия: </label>
    <input type="text" th:field="*{surName}" id="surName"/>
    <div style="color:red" th:if="${#fields.hasErrors('surName')}" th:errors="*{surName}"></div>
    <br/>
    <label for="emeil">Emeil: </label>
    <input type="text" th:field="*{emeil}" id="emeil"/>
    <div style="color:red" th:if="${#fields.hasErrors('emeil')}" th:errors="*{emeil}"></div>
    <br/>
    <label for="password">Пароль: </label>
    <input type="password" th:field="*{password}" id="password"/>
    <div style="color:red" th:if="${#fields.hasErrors('password')}" th:errors="*{password}"></div>
    <br/>

    <div>
        <label for="roles">Роль:</label>
        <br/>
        <select name="roles" id="roles" size="2" multiple>
            <option th:value="ROLE_ADMIN" th:text="ADMIN"></option>
            <option th:value="ROLE_USER" th:text="USER"></option>
        </select>
    </div>

    <br/>
    <br/>
    <input type="submit" value="Изменить пользователя"/>
</form>
<br/>
<form th:method="Delete" th:action="@{/admin/edit/{id}(id=${user.getId()})}">
    <input type="submit" value="Удалить пользователя"/>
</form>
<br/>
<form th:action="@{/logout}">
    <input type="submit" value="Выйти"/>
</form>
</body>
</html>